### usage
test.vue
````vue
<template>
  <Suspend :promise="usePromise">
    <div>{{text}}</div>
  </Suspend>
</template>

<script>
import Suspend from "./Suspend"
// 模拟接口请求
const wait = time => new Promise(resolve => setTimeout(resolve, time))

export default {
  data () {
    return {
      usePromise: null,
      text: 1
    };
  },
  components: {
    Suspend
  },
  created() {
    this.usePromise = this.$_init()
  },
  methods: {
    $_init() {
      return wait(2500).then(() => this.text = 'test222')
    }
  }
}
</script>
````

### Suspend.vue
````vue
<template>
  <div>
    <slot v-if="error" name="error">{{error.message}}</slot>
    <slot v-else-if="loaded"></slot>
    <slot v-else name="pending">pending...</slot>
  </div>
</template>

<script>
export default {
  props: {
    promise: {
      validator: p => p && typeof p.then === 'function' && typeof p.catch === 'function',
    }
  },
  data () {
    return {
      loaded: false,
      error: null
    };
  },
  watch: {
    promise: {
      immediate: true,
      handler(value) {
        if (!value) return;

        this.loaded = false;
        this.error = null;
        return value
          .then(() => this.loaded = true)
          .catch(error => this.error = error)
      }
    }
  },
}
</script>
````