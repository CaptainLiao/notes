> Do not repeat yourself

如何提高代码质量，方法有许多:抽象、模块、组件化，我认为它们的中心点都是——Do Not Repeat Yourself.


## 小程序组件化
我们先看看小程序自带的组件化能力：
* 模板，通过 `<import src="../name.wxml" />` 引入 ---- success
* 样式，通过 `@import 'name.wxss'` 引入 ---- success
* js ？？？ ---- fail

我们看到，微信小程序开发有一个很大的痛点，**缺乏组件化**能力，特别是在没有使用构建工具或第三方框架的情况下，稍不留神，就会充满大量重复的代码。

举个栗子。

小程序虽然提供了一些常用的组件——toast、loading等，但因需求不同，我们要实现自己的 `popup`、`notify`、`modal`等公共组件。这些自定义组件的共同点是：单个组件模板、事件大致一样，区别是每次使用组件时显示的内容不同。于是，我们在每个页面都能看到相似的代码，emm，已经产生了臭味道。

### mixins



如 `popup`组件，样式如下图：
![](https://images2018.cnblogs.com/blog/1085489/201803/1085489-20180309173527254-1913462190.png)
